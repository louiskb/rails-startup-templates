# RAILS 8 & 7 TEMPLATE SHELL FUNCTIONS (ZSH):
# Rails 8 vs 7 template differences = (1) choice between native `authentication` setup vs `devise` in Rails 8 templates.
# Check Rails version(s) on local machine `gem list rails` and specify in shell functions `rails <version> new...` e.g.`rails _8.1.2_ new...`

# `.zshrc` BACKUP:
# `~/.zshrc` = your terminal's "settings file".
# Create backup (in case of bad code or syntax error in Rails template shell functions = terminal breaks when loading settings) `cp ~/.zshrc ~/.zshrc.rails.templates.v1.backup`.
# Restore good settings using a new terminal tab `cp ~/.zshrc.rails.templates.v1.backup ~/.zshrc` = quick fix to recover the original broken terminal tab.
# `~/.zshrc.backup` already exists with settings before adding Rails template shell functions.
# Revert to original settings `cp ~/.zshrc.backup ~/.zshrc`
# `source ~/.zshrc` (or `. ~/.zshrc`) reloads Zsh shell configuration without starting a new shell.
#
# SUMMARY for reference:
# To original (no functions)
#cp ~/.zshrc.backup ~/.zshrc && source ~/.zshrc
#
# To rails templates (with functions)
# cp ~/.zshrc.rails.templates.v1.backup ~/.zshrc && source ~/.zshrc
#
# To v3 later (future)
# cp ~/.zshrc ~/.zshrc.v3.backup

# Replace YOUR_USERNAME with your GitHub username.
# Can replace RAILS_TEMPLATES_BASE with local path.
export RAILS_TEMPLATES_BASE="https://raw.githubusercontent.com/YOUR_USERNAME/rails-startup-templates"

##############################################
# RAILS 8 - Interactive modes (prompts for extras)
##############################################

rails8-bootstrap() {
  # Bootstrap + asks for extras
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/bootstrap.rb
}

rails8-tailwind() {
  # Tailwind + asks for extras
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/tailwind.rb
}

rails8-custom() {
  # Asks CSS + asks for extras
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/custom.rb
}

##############################################
# RAILS 8 - All-inclusive shortcuts (no prompts)
##############################################
# Rails 8 main templates always defaults to Devise vs native authentication unless changed (e.g. DEVISE=false AUTH=true).

rails8-bootstrap-all() {
  # Bootstrap + all extras
  DEVISE=true AUTH=false RUBY_LLM=true IMAGE_UPLOAD_CLOUDINARY=true NAVBAR=true TESTING=true DEV_TOOLS=true SECURITY=true \
  PAGINATION=true FRIENDLY_URLS=true ADMIN=true \
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/bootstrap.rb
}

rails8-tailwind-all() {
  # Tailwind + all extras
  DEVISE=true AUTH=false RUBY_LLM=true IMAGE_UPLOAD_CLOUDINARY=true NAVBAR=true TESTING=true DEV_TOOLS=true SECURITY=true \
  PAGINATION=true FRIENDLY_URLS=true ADMIN=true \
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/tailwind.rb
}

##############################################
# RAILS 8 - Minimal shortcuts (no extras, no prompts)
##############################################

rails8-bootstrap-min() {
  # Bootstrap only (no extras)
  DEVISE=false AUTH=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false DEV_TOOLS=false SECURITY=false \
  PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/bootstrap.rb
}

rails8-tailwind-min() {
  # Tailwind only (no extras)
  DEVISE=false AUTH=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false DEV_TOOLS=false SECURITY=false \
  PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/tailwind.rb
}

rails8-min() {
  # No CSS, no extras (bare Rails 8)
  BOOTSTRAP=false TAILWIND=false DEVISE=false AUTH=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false \
  DEV_TOOLS=false SECURITY=false PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _8.1.2_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-8/custom.rb
}

##############################################
# RAILS 7 - Interactive modes (prompts for extras)
##############################################

rails7-bootstrap() {
  # Bootstrap + asks for extras
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/bootstrap.rb
}

rails7-tailwind() {
  # Tailwind + asks for extras
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/tailwind.rb
}

rails7-custom() {
  # Asks CSS + asks for extras
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/custom.rb
}

##############################################
# RAILS 7 - All-inclusive shortcuts (no prompts)
##############################################

rails7-bootstrap-all() {
  # Bootstrap + all extras
  DEVISE=true RUBY_LLM=true IMAGE_UPLOAD_CLOUDINARY=true NAVBAR=true TESTING=true DEV_TOOLS=true SECURITY=true \
  PAGINATION=true FRIENDLY_URLS=true ADMIN=true \
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/bootstrap.rb
}

rails7-tailwind-all() {
  # Tailwind + all extras
  DEVISE=true RUBY_LLM=true IMAGE_UPLOAD_CLOUDINARY=true NAVBAR=true TESTING=true DEV_TOOLS=true SECURITY=true \
  PAGINATION=true FRIENDLY_URLS=true ADMIN=true \
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/tailwind.rb
}

##############################################
# RAILS 7 - Minimal shortcuts (no extras, no prompts)
##############################################

rails7-bootstrap-min() {
  # Bootstrap only (no extras)
  DEVISE=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false DEV_TOOLS=false SECURITY=false \
  PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/bootstrap.rb
}

rails7-tailwind-min() {
  # Tailwind only (no extras)
  DEVISE=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false DEV_TOOLS=false SECURITY=false \
  PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/tailwind.rb
}

rails7-min() {
  # No CSS, no extras (bare Rails 7)
  BOOTSTRAP=false TAILWIND=false DEVISE=false RUBY_LLM=false IMAGE_UPLOAD_CLOUDINARY=false NAVBAR=false TESTING=false \
  DEV_TOOLS=false SECURITY=false PAGINATION=false FRIENDLY_URLS=false ADMIN=false \
  rails _7.1.6_ new "$1" -d postgresql \
    -m $RAILS_TEMPLATES_BASE/rails-7/custom.rb
}
